\hypertarget{ProgressBar_8h_source}{}\doxysection{Progress\+Bar.\+h}
\label{ProgressBar_8h_source}\index{/Users/jf20/Documents/JSL/Display/ProgressBar.h@{/Users/jf20/Documents/JSL/Display/ProgressBar.h}}
\mbox{\hyperlink{ProgressBar_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{clearScreen_8h}{clearScreen.h}}"{}}}
\DoxyCodeLine{6 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceJSL}{JSL}}}
\DoxyCodeLine{7 \{}
\DoxyCodeLine{8     \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Dimension = 1, \textcolor{keywordtype}{bool} DeleteMode = true, \textcolor{keywordtype}{char} Symbol = '\#'>}
\DoxyCodeLine{9     \textcolor{keyword}{class }\mbox{\hyperlink{classJSL_1_1ProgressBar}{ProgressBar}}}
\DoxyCodeLine{10     \{}
\DoxyCodeLine{11         \textcolor{keyword}{private}:}
\DoxyCodeLine{12             \textcolor{keywordtype}{int} \mbox{\hyperlink{classJSL_1_1ProgressBar_a7814c15a0bb7fef15d7a79800e4c3f00}{MaxHashes}} = 32;}
\DoxyCodeLine{13             \textcolor{keywordtype}{bool} \mbox{\hyperlink{classJSL_1_1ProgressBar_ab94f1adc8ac9de3799a0c0fff5218e6e}{firstPrint}} = \textcolor{keyword}{true};}
\DoxyCodeLine{14             std::vector<int> \mbox{\hyperlink{classJSL_1_1ProgressBar_a078a1b566733d0177ab4bc94bbcab9ad}{BarTargets}};}
\DoxyCodeLine{15             std::vector<double> \mbox{\hyperlink{classJSL_1_1ProgressBar_a0593aa1757ff10db2e7e9eb17234a56d}{BarProgress}};}
\DoxyCodeLine{16             std::vector<int> \mbox{\hyperlink{classJSL_1_1ProgressBar_a84de0a555d9671a5e003332730c5086f}{Hashes}};}
\DoxyCodeLine{17             std::vector<std::string> \mbox{\hyperlink{classJSL_1_1ProgressBar_a2a74b78253b885897afe16656843ed2a}{Names}};}
\DoxyCodeLine{18             \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{classJSL_1_1ProgressBar_a363db1f5a02c263b5a767e91787aaa51}{BarCount}};}
\DoxyCodeLine{19             \textcolor{keywordtype}{bool} \mbox{\hyperlink{classJSL_1_1ProgressBar_a147d0312ca3d0985cebabee2329881c1}{reprintNeeded}};}
\DoxyCodeLine{20             \textcolor{keywordtype}{int} \mbox{\hyperlink{classJSL_1_1ProgressBar_a02f64d66bd98230dd800a543d4203d03}{bufferWidth}} = 10;}
\DoxyCodeLine{21             \textcolor{keywordtype}{int} \mbox{\hyperlink{classJSL_1_1ProgressBar_ad1b42914e2355692ff89b64b52ccf3b3}{prevHashes}} = 0;}
\DoxyCodeLine{22 }
\DoxyCodeLine{23             \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{24             \textcolor{keywordtype}{void} \mbox{\hyperlink{classJSL_1_1ProgressBar_ab74a1cf8c35e19a0a1a16be7b6ca8321}{UnpackTargets}}(\textcolor{keywordtype}{int} target, Ts... targets)}
\DoxyCodeLine{25             \{}
\DoxyCodeLine{26                 }
\DoxyCodeLine{27                 \mbox{\hyperlink{classJSL_1_1ProgressBar_a078a1b566733d0177ab4bc94bbcab9ad}{BarTargets}}.push\_back(target);}
\DoxyCodeLine{28                 \mbox{\hyperlink{classJSL_1_1ProgressBar_a0593aa1757ff10db2e7e9eb17234a56d}{BarProgress}}.push\_back(0);}
\DoxyCodeLine{29                 \mbox{\hyperlink{classJSL_1_1ProgressBar_a84de0a555d9671a5e003332730c5086f}{Hashes}}.push\_back(0);}
\DoxyCodeLine{30                 \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (\textcolor{keyword}{sizeof}...(targets) > 0)}
\DoxyCodeLine{31                 \{}
\DoxyCodeLine{32                     \mbox{\hyperlink{classJSL_1_1ProgressBar_ab74a1cf8c35e19a0a1a16be7b6ca8321}{UnpackTargets}}(targets...);}
\DoxyCodeLine{33                 \}}
\DoxyCodeLine{34             \}}
\DoxyCodeLine{35             \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{36             \textcolor{keywordtype}{void} \mbox{\hyperlink{classJSL_1_1ProgressBar_aa2329ecb7ba4cf6a53581277100f446a}{UnrollPositions}}(\textcolor{keyword}{const} \textcolor{keywordtype}{int} idx,\textcolor{keywordtype}{int} pos, Ts... remainder)}
\DoxyCodeLine{37             \{}
\DoxyCodeLine{38                 \mbox{\hyperlink{classJSL_1_1ProgressBar_a0593aa1757ff10db2e7e9eb17234a56d}{BarProgress}}[idx]  = (double)pos/(\mbox{\hyperlink{classJSL_1_1ProgressBar_a078a1b566733d0177ab4bc94bbcab9ad}{BarTargets}}[idx]-\/1);}
\DoxyCodeLine{39                 \textcolor{keywordtype}{int} newHashes = std::min(\mbox{\hyperlink{classJSL_1_1ProgressBar_a0593aa1757ff10db2e7e9eb17234a56d}{BarProgress}}[idx],1.0) * \mbox{\hyperlink{classJSL_1_1ProgressBar_a7814c15a0bb7fef15d7a79800e4c3f00}{MaxHashes}};}
\DoxyCodeLine{40                 }
\DoxyCodeLine{41                 \textcolor{keywordflow}{if} (newHashes != \mbox{\hyperlink{classJSL_1_1ProgressBar_a84de0a555d9671a5e003332730c5086f}{Hashes}}[idx])}
\DoxyCodeLine{42                 \{}
\DoxyCodeLine{43                     \mbox{\hyperlink{classJSL_1_1ProgressBar_ad1b42914e2355692ff89b64b52ccf3b3}{prevHashes}} = \mbox{\hyperlink{classJSL_1_1ProgressBar_a84de0a555d9671a5e003332730c5086f}{Hashes}}[idx];}
\DoxyCodeLine{44                     \mbox{\hyperlink{classJSL_1_1ProgressBar_a147d0312ca3d0985cebabee2329881c1}{reprintNeeded}} = \textcolor{keyword}{true};}
\DoxyCodeLine{45                     \mbox{\hyperlink{classJSL_1_1ProgressBar_a84de0a555d9671a5e003332730c5086f}{Hashes}}[idx] = newHashes;}
\DoxyCodeLine{46                 \}}
\DoxyCodeLine{47                 \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}( \textcolor{keyword}{sizeof}...(remainder)>0)}
\DoxyCodeLine{48                 \{}
\DoxyCodeLine{49                     \mbox{\hyperlink{classJSL_1_1ProgressBar_aa2329ecb7ba4cf6a53581277100f446a}{UnrollPositions}}(idx+1,remainder...);}
\DoxyCodeLine{50                 \}}
\DoxyCodeLine{51                 }
\DoxyCodeLine{52                 }
\DoxyCodeLine{53             \}}
\DoxyCodeLine{54             \textcolor{keywordtype}{void} \mbox{\hyperlink{classJSL_1_1ProgressBar_add093b3d1e10846ee6076810ee057d92}{ClearScreen}}()}
\DoxyCodeLine{55             \{}
\DoxyCodeLine{56                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{classJSL_1_1ProgressBar_a363db1f5a02c263b5a767e91787aaa51}{BarCount}}; ++i)}
\DoxyCodeLine{57                 \{}
\DoxyCodeLine{58                     \mbox{\hyperlink{namespaceJSL_a405f53748ca024b70694b0534cfcf4a3}{jumpLineUp}}();}
\DoxyCodeLine{59                     \mbox{\hyperlink{namespaceJSL_ae38780f94d60045b904b289eb3ab8eda}{deleteLine}}();}
\DoxyCodeLine{60                 \}}
\DoxyCodeLine{61             \}}
\DoxyCodeLine{62             \textcolor{keywordtype}{void} \mbox{\hyperlink{classJSL_1_1ProgressBar_a1b571359397cc3f619f21d02eb20998e}{PrintPositions\_DeleteMode}}()}
\DoxyCodeLine{63             \{}
\DoxyCodeLine{64                 \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classJSL_1_1ProgressBar_ab94f1adc8ac9de3799a0c0fff5218e6e}{firstPrint}})}
\DoxyCodeLine{65                 \{}
\DoxyCodeLine{66                     \mbox{\hyperlink{classJSL_1_1ProgressBar_add093b3d1e10846ee6076810ee057d92}{ClearScreen}}();}
\DoxyCodeLine{67                 \}}
\DoxyCodeLine{68                 \mbox{\hyperlink{classJSL_1_1ProgressBar_ab94f1adc8ac9de3799a0c0fff5218e6e}{firstPrint}} = \textcolor{keyword}{false};}
\DoxyCodeLine{69                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{classJSL_1_1ProgressBar_a363db1f5a02c263b5a767e91787aaa51}{BarCount}}; ++i)}
\DoxyCodeLine{70                 \{}
\DoxyCodeLine{71                     \textcolor{keywordtype}{int} newHashes = \mbox{\hyperlink{classJSL_1_1ProgressBar_a84de0a555d9671a5e003332730c5086f}{Hashes}}[i];}
\DoxyCodeLine{72                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classJSL_1_1ProgressBar_a2a74b78253b885897afe16656843ed2a}{Names}}.size() > 0)}
\DoxyCodeLine{73                     \{}
\DoxyCodeLine{74                         std::cout << std::setw(\mbox{\hyperlink{classJSL_1_1ProgressBar_a02f64d66bd98230dd800a543d4203d03}{bufferWidth}})  << \mbox{\hyperlink{classJSL_1_1ProgressBar_a2a74b78253b885897afe16656843ed2a}{Names}}[i]<< \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{75                     \}}
\DoxyCodeLine{76                     std::cout << \textcolor{stringliteral}{"{}["{}} << std::string(newHashes,Symbol) << std::string(\mbox{\hyperlink{classJSL_1_1ProgressBar_a7814c15a0bb7fef15d7a79800e4c3f00}{MaxHashes}} -\/ newHashes,\textcolor{charliteral}{' '}) << \textcolor{stringliteral}{"{}]\(\backslash\)n"{}};}
\DoxyCodeLine{77                 \}}
\DoxyCodeLine{78             \}}
\DoxyCodeLine{79             \textcolor{keywordtype}{void} \mbox{\hyperlink{classJSL_1_1ProgressBar_a24c5d1e1936dfd67ad0377daa26756cd}{PrintPositions\_RetainMode}}()}
\DoxyCodeLine{80             \{}
\DoxyCodeLine{81         }
\DoxyCodeLine{82                 \textcolor{keywordtype}{int} newHashes = \mbox{\hyperlink{classJSL_1_1ProgressBar_a84de0a555d9671a5e003332730c5086f}{Hashes}}[0] -\/ \mbox{\hyperlink{classJSL_1_1ProgressBar_ad1b42914e2355692ff89b64b52ccf3b3}{prevHashes}};}
\DoxyCodeLine{83                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classJSL_1_1ProgressBar_ad1b42914e2355692ff89b64b52ccf3b3}{prevHashes}} == 0)}
\DoxyCodeLine{84                 \{}
\DoxyCodeLine{85                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classJSL_1_1ProgressBar_a2a74b78253b885897afe16656843ed2a}{Names}}.size() == 1)}
\DoxyCodeLine{86                     \{}
\DoxyCodeLine{87                         std::cout << std::setw(\mbox{\hyperlink{classJSL_1_1ProgressBar_a02f64d66bd98230dd800a543d4203d03}{bufferWidth}})  << \mbox{\hyperlink{classJSL_1_1ProgressBar_a2a74b78253b885897afe16656843ed2a}{Names}}[0]<< \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{88                     \}}
\DoxyCodeLine{89                     std::cout << \textcolor{stringliteral}{"{}["{}};}
\DoxyCodeLine{90                 \}}
\DoxyCodeLine{91                 std::cout << std::string(newHashes,Symbol);}
\DoxyCodeLine{92                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classJSL_1_1ProgressBar_a84de0a555d9671a5e003332730c5086f}{Hashes}}[0] == \mbox{\hyperlink{classJSL_1_1ProgressBar_a7814c15a0bb7fef15d7a79800e4c3f00}{MaxHashes}})}
\DoxyCodeLine{93                 \{}
\DoxyCodeLine{94                     std::cout << \textcolor{stringliteral}{"{}]"{}};}
\DoxyCodeLine{95                 \}}
\DoxyCodeLine{96                 std::cout << std::flush;}
\DoxyCodeLine{97             \}}
\DoxyCodeLine{98         \textcolor{keyword}{public}:}
\DoxyCodeLine{99             \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{100             \mbox{\hyperlink{classJSL_1_1ProgressBar_a07e26ed8fdd7620aeb881973d6b84be8}{ProgressBar}}(Ts... target) : \mbox{\hyperlink{classJSL_1_1ProgressBar_a363db1f5a02c263b5a767e91787aaa51}{BarCount}}(sizeof...(target))}
\DoxyCodeLine{101             \{}
\DoxyCodeLine{102                 \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}...(target) == Dimension);}
\DoxyCodeLine{103                 \mbox{\hyperlink{classJSL_1_1ProgressBar_ab74a1cf8c35e19a0a1a16be7b6ca8321}{UnpackTargets}}(target...);}
\DoxyCodeLine{104             \}}
\DoxyCodeLine{105 }
\DoxyCodeLine{106             \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{107             \textcolor{keywordtype}{void} \mbox{\hyperlink{classJSL_1_1ProgressBar_aa9e8aae58f1d27e83706c06253244325}{Update}}(Ts... positions)}
\DoxyCodeLine{108             \{}
\DoxyCodeLine{109                 \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}...(positions) == Dimension);}
\DoxyCodeLine{110                 \mbox{\hyperlink{classJSL_1_1ProgressBar_a147d0312ca3d0985cebabee2329881c1}{reprintNeeded}}  = \textcolor{keyword}{false};}
\DoxyCodeLine{111                 \mbox{\hyperlink{classJSL_1_1ProgressBar_aa2329ecb7ba4cf6a53581277100f446a}{UnrollPositions}}(0,positions...);}
\DoxyCodeLine{112 }
\DoxyCodeLine{113                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classJSL_1_1ProgressBar_a147d0312ca3d0985cebabee2329881c1}{reprintNeeded}})}
\DoxyCodeLine{114                 \{}
\DoxyCodeLine{115                     \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (DeleteMode)}
\DoxyCodeLine{116                     \{}
\DoxyCodeLine{117                         \mbox{\hyperlink{classJSL_1_1ProgressBar_a1b571359397cc3f619f21d02eb20998e}{PrintPositions\_DeleteMode}}();}
\DoxyCodeLine{118                     \}}
\DoxyCodeLine{119                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{120                     \{}
\DoxyCodeLine{121                         \mbox{\hyperlink{classJSL_1_1ProgressBar_a24c5d1e1936dfd67ad0377daa26756cd}{PrintPositions\_RetainMode}}();}
\DoxyCodeLine{122                     \}}
\DoxyCodeLine{123                 \}}
\DoxyCodeLine{124             \}}
\DoxyCodeLine{125             \textcolor{keywordtype}{void} \mbox{\hyperlink{classJSL_1_1ProgressBar_aa7d83ba6ed7ac7dd956b8e91e2bf4939}{SetName}}(\textcolor{keyword}{const} std::string \& name)}
\DoxyCodeLine{126             \{}
\DoxyCodeLine{127                 \textcolor{keyword}{static\_assert}(Dimension == 1);}
\DoxyCodeLine{128                 \mbox{\hyperlink{classJSL_1_1ProgressBar_a2a74b78253b885897afe16656843ed2a}{Names}} = \{name\};}
\DoxyCodeLine{129                 \mbox{\hyperlink{classJSL_1_1ProgressBar_a02f64d66bd98230dd800a543d4203d03}{bufferWidth}} = std::max(\mbox{\hyperlink{classJSL_1_1ProgressBar_a02f64d66bd98230dd800a543d4203d03}{bufferWidth}},(\textcolor{keywordtype}{int})name.length());}
\DoxyCodeLine{130             \}}
\DoxyCodeLine{131             \textcolor{keywordtype}{void} \mbox{\hyperlink{classJSL_1_1ProgressBar_a0dd7eb5fec57702317cf3e6bd807bcb4}{SetName}}(\textcolor{keyword}{const} std::vector<std::string> \& names)}
\DoxyCodeLine{132             \{}
\DoxyCodeLine{133                 \mbox{\hyperlink{namespaceJSL_a1a7afe30fd764dc4151982a2631f08d3}{Assert}}(\textcolor{stringliteral}{"{}Name vector must be same size as bar count"{}},names.size() == Dimension);}
\DoxyCodeLine{134                 \mbox{\hyperlink{classJSL_1_1ProgressBar_a2a74b78253b885897afe16656843ed2a}{Names}} = names;}
\DoxyCodeLine{135                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Dimension; ++i)}
\DoxyCodeLine{136                 \{}
\DoxyCodeLine{137                     \mbox{\hyperlink{classJSL_1_1ProgressBar_a02f64d66bd98230dd800a543d4203d03}{bufferWidth}} = std::max(\mbox{\hyperlink{classJSL_1_1ProgressBar_a02f64d66bd98230dd800a543d4203d03}{bufferWidth}},(\textcolor{keywordtype}{int})names[i].length());}
\DoxyCodeLine{138                 \}}
\DoxyCodeLine{139             \}}
\DoxyCodeLine{140             \textcolor{keywordtype}{void} \mbox{\hyperlink{classJSL_1_1ProgressBar_aea4a38ec99476f7863bc66acea2552a7}{SetName}}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idx, \textcolor{keyword}{const} std::string \& name)}
\DoxyCodeLine{141             \{}
\DoxyCodeLine{142                 \mbox{\hyperlink{namespaceJSL_a1a7afe30fd764dc4151982a2631f08d3}{Assert}}(\textcolor{stringliteral}{"{}Assign name to bar between 0 and BarCount-\/1"{}}, idx < \mbox{\hyperlink{classJSL_1_1ProgressBar_a363db1f5a02c263b5a767e91787aaa51}{BarCount}});}
\DoxyCodeLine{143                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classJSL_1_1ProgressBar_a2a74b78253b885897afe16656843ed2a}{Names}}.size() < \mbox{\hyperlink{classJSL_1_1ProgressBar_a363db1f5a02c263b5a767e91787aaa51}{BarCount}})}
\DoxyCodeLine{144                 \{}
\DoxyCodeLine{145                     \mbox{\hyperlink{classJSL_1_1ProgressBar_a2a74b78253b885897afe16656843ed2a}{Names}} = std::vector<std::string>(\mbox{\hyperlink{classJSL_1_1ProgressBar_a363db1f5a02c263b5a767e91787aaa51}{BarCount}},\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{146                 \}}
\DoxyCodeLine{147                 \mbox{\hyperlink{classJSL_1_1ProgressBar_a2a74b78253b885897afe16656843ed2a}{Names}}[idx] = name;}
\DoxyCodeLine{148                 \mbox{\hyperlink{classJSL_1_1ProgressBar_a02f64d66bd98230dd800a543d4203d03}{bufferWidth}} = std::max(\mbox{\hyperlink{classJSL_1_1ProgressBar_a02f64d66bd98230dd800a543d4203d03}{bufferWidth}},(\textcolor{keywordtype}{int})name.length());}
\DoxyCodeLine{149             \}}
\DoxyCodeLine{150 }
\DoxyCodeLine{151 }
\DoxyCodeLine{152             \textcolor{keywordtype}{void} \mbox{\hyperlink{classJSL_1_1ProgressBar_a76f9fea64fe63406ee061730bfa0a3c9}{Clear}}()}
\DoxyCodeLine{153             \{}
\DoxyCodeLine{154                 \mbox{\hyperlink{classJSL_1_1ProgressBar_add093b3d1e10846ee6076810ee057d92}{ClearScreen}}();}
\DoxyCodeLine{155             \}}
\DoxyCodeLine{156     \};}
\DoxyCodeLine{157 \}}

\end{DoxyCode}
